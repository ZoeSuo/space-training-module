<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Virtual Reality UI</title>
    <link rel="stylesheet" href="styles/index.css">
  </head>
  <body>
    <div id="loading">
      <video id="video-0" style="display:none;">
        <source src="assets/video/Planet_2432.mp4">
      </video>
    </div>
    <div id="viewport"></div>
    <div id="hud">
      <button id="vr-toggle">Toggle VR</button>
      <button id="reset-camera">Reset Camera</button>
    </div>

    <video id="video-0" style="display:none;">
			<source src="assets/video/Planet_2432.mp4">
		</video>

    <video id="video-1" style="display:none;">
			<source src="assets/video/Planet_NewSedna.mp4">
		</video>

    <video id="video-2" style="display:none;">
			<source src="assets/video/Fleet_Erdan.mp4">
		</video>

    <video id="video-3" style="display:none;">
			<source src="assets/video/Fleet_Sednese.mp4">
		</video>

    <script id="glowVertexShader" type="x-shader/x-vertex">
      uniform vec3 viewVector;
      uniform float c;
      uniform float p;
      varying float intensity;
      void main() 
      {
        vec3 vNormal = normalize( normalMatrix * normal );
        vec3 vNormel = normalize( normalMatrix * viewVector );
        // incorrect intensity = pow( c - dot(vNormal, vNormel), p );
        intensity = pow( abs(c - dot(vNormal, vNormel) ), p );

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    </script>

    <script id="glowFragmentShader" type="x-shader/x-vertex"> 
      uniform vec3 glowColor;
      varying float intensity;
      void main() 
      {
        vec3 glow = glowColor * intensity;
        gl_FragColor = vec4( glow, 1.0 );
      }
    </script>

    <script id="vertexAtmosphereGlow" type="x-shader/x-vertex">
    varying vec3 vNormal;
    void main() 
    {
        vNormal = normalize( normalMatrix * normal );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    }
    </script>

    <!-- fragment shader a.k.a. pixel shader -->
    <script id="fragmentAtmosphereGlow" type="x-shader/x-vertex"> 
    varying vec3 vNormal;
    void main()
    {
      float intensity = pow( 0.7 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 ); 
        gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;
    }
    </script>

    <script id="chromaKeyVertexShader" type="x-shader/x-vertex">
      varying vec2 vUv;
      void main()
      {
        vUv = uv;
        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * mvPosition;
      }
    </script>

    <script id="chromaKeyFragmentShader" type="x-shader/x-fragment">
      uniform sampler2D texture;
      uniform vec3 color;
      uniform float opacity;
      varying vec2 vUv;
      void main()
      {
        vec3 tColor = texture2D( texture, vUv ).rgb;
        float a = (length(tColor - color)) * 2.0;
        gl_FragColor = vec4(tColor, a * opacity);
      }
    </script>

    <script type="text/javascript" src="libs/tween.min.js"></script>
    <script type="text/javascript" src="libs/dat.gui.js"></script>
    <script type="text/javascript" src="libs/three.js"></script>
    <script type="text/javascript" src="libs/OrbitControls.js"></script>
    <script type="text/javascript" src="libs/leap-0.6.4.js"></script>
    <script type="text/javascript" src="libs/leap-plugins-0.1.11pre.js"></script>
    <script type="text/javascript" src="libs/VRRenderer.js"></script>
    <script type="text/javascript" src="libs/DDSLoader.js"></script>
    <script type="text/javascript" src="libs/MTLLoader.js"></script>
    <script type="text/javascript" src="libs/OBJLoader.js"></script>
    <script type="text/javascript" src="libs/OBJMTLLoader.js"></script>
    <script type="text/javascript" src="bundle.js"></script>
  </body>
</html>
